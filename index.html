<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>RealPage Collusion Dashboard</title>

  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <!-- Custom CSS (optional) -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="d-flex" id="wrapper">
    <!-- Sidebar -->
    <div class="bg-light border-end" id="sidebar-wrapper">
      <div class="sidebar-heading text-center py-4">
        <strong>Navigation</strong>
      </div>
      <div class="list-group list-group-flush">
        <a href="index.html" class="list-group-item list-group-item-action bg-light">
          Index
        </a>
        <a href="#" class="list-group-item list-group-item-action bg-light">
          Exploratory Data Analysis (EDA)
        </a>
        <a href="#" class="list-group-item list-group-item-action bg-light">
          Causal Inference & Explanatory Modeling
        </a>
        <a href="#" class="list-group-item list-group-item-action bg-light">
          Try It Yourself: Interactive Modeling
        </a>
        <a href="#" class="list-group-item list-group-item-action bg-light">
          Contact Us
        </a>
      </div>
      <div class="p-3">
        <!-- Side Button to View PDF -->
        <a href="example.pdf" target="_blank" class="btn btn-primary w-100">
          View PDF
        </a>
      </div>
    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper">
      <nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom">
        <div class="container-fluid">
          <button class="btn btn-secondary" id="menu-toggle">
            Toggle Menu
          </button>
        </div>
      </nav>

      <div class="container-fluid py-4">
        
        <!-- Heading Section -->
        <div class="mb-4">
          <h1 class="display-5">RealPage Collusion Dashboard</h1>
          <p class="lead">
            Ahmad Allaou, Peter Benzoni, Chelle Davies,<br/>
            Tim Majidzadeh &amp; Patrick Yim
          </p>
          <h3 class="mt-4 mb-3">
            Is there a statistically significant change in rent level and/or housing supply 
            associated with RealPage market share?
          </h3>
          <div>
            <strong>&lt;Abstract&gt;</strong>
          </div>
        </div>

        <!-- Data Dictionary Section (Now Dynamically Loaded) -->
        <div class="card mb-4">
          <div class="card-header">
            <h4 class="card-title mb-0">Data Dictionary</h4>
          </div>
          <div class="card-body">
            <p class="text-muted mb-3">
              The data shown below are examples meant to illustrate how the fields 
              in the source data are defined, and do not reflect exact records found.
            </p>
            <p>
              <strong>Rent Page &amp; Comparison Data, Core-Based Statistical Area (RealPage CBSA, cbsa_data)</strong><br>
              Example Data Featured
            </p>
            <p>
              <em>Note: The examples below are made up for the purpose of demonstration.</em>
            </p>

            <!-- Example Data Cases (still hard-coded) -->
            <div class="mb-3">
              <h5>Case 1 – Property Alpha</h5>
              <ul>
                <li><strong>Location &amp; Basics:</strong> Located in Metroville, NY, zip code 12345, address “100 Main St.”</li>
                <li><strong>Property Details:</strong> 3-story, Class A, built in 2000, 150 units, average unit size 900 sq ft.</li>
                <li><strong>Rent Metrics:</strong> Annual rent change of 8%, asking rent $1,200, rent per square foot 1.33.</li>
                <li><strong>Submarket Data:</strong> Additional historical submarket price band metrics (e.g., asking rent, occupancy, etc.).</li>
              </ul>
            </div>
            <div class="mb-3">
              <h5>Case 2 – Property Beta</h5>
              <ul>
                <li><strong>Location &amp; Basics:</strong> Springfield, IL (54321), “200 Oak Ave.”</li>
                <li><strong>Property Details:</strong> 2-story, Class B luxury, built in 1995, 200 units, average unit size 750 sq ft.</li>
                <li><strong>Rent Metrics:</strong> 12% annual rent increase, asking rent $1,400, rent per square foot 1.50.</li>
                <li><strong>Submarket Data:</strong> Includes historical submarket price band metrics.</li>
              </ul>
            </div>
            <div>
              <h5>Case 3 – Property Gamma</h5>
              <ul>
                <li><strong>Location &amp; Basics:</strong> Lakeside, CA (67890), “300 Pine Rd.”</li>
                <li><strong>Property Details:</strong> Single-story, Class C, built in 2010, 100 units, average unit size 1,100 sq ft.</li>
                <li><strong>Rent Metrics:</strong> Decrease of –2% in annual rent change, asking rent $1,100, rent per square foot 1.00.</li>
                <li><strong>Submarket Data:</strong> In this row, submarket historical fields are left blank (missing data).</li>
              </ul>
            </div>

            <hr/>

            <!-- This is where the JSON data will be injected -->
            <div id="json-dictionary">
              <!-- The script below will dynamically create and insert content here. -->
            </div>
            
          </div>
        </div>

        <!-- Dataset 2 -->
        <div class="card mb-4">
          <div class="card-header">
            &lt;Dataset 2&gt;
          </div>
          <div class="card-body">
            &lt;Description of research, ML Model development and insights&gt;
          </div>
        </div>

        <!-- Data Privacy Policy -->
        <div class="card mb-4">
          <div class="card-header">
            <h4 class="mb-0">Data Privacy Policy</h4>
          </div>
          <div class="card-body">
            <p><strong>Effective February 1, 2025</strong></p>
            <p>
              Our dashboard and machine learning model for predicting/classifying 
              rent trends is developed with robust privacy safeguards. We adhere 
              to Belmont Principles...
            </p>
            <p>
              ...We remain steadfastly committed to continuous improvement and adherence 
              to best practices in privacy protection.
            </p>
            <hr/>
            <p>
              Our dashboard utilizes public rental property information. No personally 
              identifiable information (PII) is collected...
            </p>
          </div>
        </div>

        <!-- Sources Used -->
        <div class="card mb-4">
          <div class="card-header">
            <strong>Sources Used</strong>
          </div>
          <div class="card-body">
            <p>
              "Explore." RealPage, n.d., 
              <a href="https://www.realpage.com/explore" target="_blank">
                https://www.realpage.com/explore
              </a>. Accessed 1 Feb. 2025.
            </p>
          </div>
        </div>
      </div>
    </div>
    <!-- /#page-content-wrapper -->
  </div>
  <!-- /#wrapper -->

  <!-- Bootstrap Bundle JS -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
  ></script>

  <!-- Script to toggle the sidebar -->
  <script>
    const menuToggle = document.getElementById("menu-toggle");
    const wrapper = document.getElementById("wrapper");

    menuToggle.addEventListener("click", () => {
      wrapper.classList.toggle("toggled");
    });
  </script>

  <!-- Script to fetch and display data from data-dictionary.json -->
  <script>
    fetch('data-dictionary.json')
      .then(response => response.json())
      .then(data => {
        // Pass the parsed JSON to a rendering function
        renderDataDictionary(data);
      })
      .catch(error => console.error('Error fetching JSON:', error));

    function renderDataDictionary(dictionary) {
      const container = document.getElementById('json-dictionary');

      // For each top-level key in our JSON (e.g., "corePropertyInfo", etc.):
      Object.keys(dictionary).forEach(categoryKey => {
        // Create a div to group each category
        const section = document.createElement('div');
        section.classList.add('mb-4');

        // Category title
        const sectionHeader = document.createElement('h5');
        sectionHeader.textContent = categoryKey;
        section.appendChild(sectionHeader);

        // We'll assume each category is an array of objects
        const fieldsArray = dictionary[categoryKey];

        // Create a list of fields
        const ul = document.createElement('ul');
        fieldsArray.forEach(item => {
          const li = document.createElement('li');
          li.innerHTML = `<strong>${item.field}:</strong> ${item.description}`;
          ul.appendChild(li);
        });
        
        section.appendChild(ul);
        container.appendChild(section);
      });
    }
  </script>
</body>
</html>
